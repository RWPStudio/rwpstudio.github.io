<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>首页 | RMStudio</title>
    <meta name="theme-color" content="#245A48">
    <meta name="description" content="一个因共同理想聚集而来的小工作室">
    <link rel="icon" href="./icons/icon.png">
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/animation.css">
</head>

<body>
    <div class="container">
        <div class="section section1">
            <div class="1" id="fade">
                <img class="icon" src="./icons/icon.png">
            </div>
        </div>
        <div class="section section2">
            <div class="aboutus 2" >
                <ul class="transverse-list">
                    <li><button onclick="change('Initialheart')">初心</button></li>
                    <li><button onclick="change('target')">目标</button></li>
                    <li><button onclick="change('project')">项目</button></li>
                    <li><button onclick="change('player')">成员</button></li>
                </ul>
                <div style="background-color: black; " class="action" id="Initialheart">
                    <h1>这里是塞初心的地方</h1>
                </div>
                <div style="background-color:purple;" id="target">
                    <h1>这里是目标</h1>
                </div>
                <div style="background-color:purple;" id="project">
                    <h1>这里是项目</h1>
                </div>                
                <div style="background-color:purple;" id="player">
                    <h1>这里是玩家</h1>
                </div>
            </div>
        </div>
        <div class="section section3">
            <div class="ourproject 3">
                <div style="background-color: rgb(255, 0, 0);" id="RMCraft" class="action"> 
                    <h1>这里写RMCraft简介</h1>
                </div>
                <ul style="display: inline-block;" class="Vertical-list">
                    <li><button style="text-orientation: mixed; writing-mode: vertical-rl;" onclick="change('RMCraft')">RMCraft</button></li>
                </ul>
            </div>
        </div>  
        <div class="section section4">
            <div style="border-radius: 15px; background-color: white; padding: 30px;" >
                <h2 style="color: black;">总而言之，言而总之</h2>
                <ul style="color: black;list-style: none;">
                    <li>不分年龄、职业、性别、民族、国籍，服务器允许并欢迎任何正常Minecraft玩家加入</li>
                    <li>服务器内玩家一律平等。</li>
                    <li>服务器所有权属于管理团队。</li>
                    <li>禁止过度生电</li>
                    <li>禁止DDos服务器</li>
                    <li>您可以干的</li>
                </ul>
                <button onclick="window.open('https://docs.qq.com/doc/DQmFoZmhuZEZnTlFB')" style="
                position: relative;
                left: 85%;
                margin-top: 10px;
                background-color: rgb(44, 168, 246);
                border-radius: 5px;
                padding: 10px;
                color: white;
                border: none;
                font-size: 14px;">查看详情</button>
            </div>
        </div>
        <div class="section section5">
            <div style="background-color: white;border-radius: 10px;">
                <h1 style="color: black;">像素学院</h1>
                
            </div>
        </div>
        <div class="section section6">
            <h1>第6屏</h1>
        </div>
    </div>

    <ul class="controls">
        <li class="active"></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>
    <ul class="index">
        <li>
            <h6 id="page">首页
        </li>
        <li>
            <h6 id="page">关于我们</h6>
        </li>
        <li>
            <h6 id="page">内容介绍</h6>
        </li>
        <li>
            <h6 id="page">玩家守则</h6>
        </li>
        <li>
            <h6 id="page">像素学院</h6>
        </li>
        <li>
            <h6 id="page">加入我们</h6>
        </li>
    </ul>

    <script>
        //实现滚动效果
        const container = document.querySelector('.container')
        const lis = document.querySelectorAll('.controls li')
        var viewHeight = null //声明页面高度
        var c=document.querySelectorAll('icon','aboutus','ourproject')
        var index = 0; //当前索引
        var flag = true; //节流开关
        document.addEventListener('mousewheel', function (e) {
            e = e || window.event
            // 获取整屏的高度
            viewHeight = document.body.clientHeight;
            if (flag) {  //节流阀
                flag = false
                
                if (e.wheelDelta > 0) {
                    index--
                    if (index < 0) {
                        index = 0
                        
                    }
                } else {
                    index++;
                    if (index > lis.length - 1) {
                        index = lis.length - 1
                    }
                }
                container.style.top = -index * viewHeight + 'px'
                changeColor(index)
                setTimeout(function () {
                    flag = true
                }, 500)
            }

        })

        //绑定点击事件
        for (let i = 0; i < lis.length; i++) {
            lis[i].onclick = function () {
                viewHeight = document.body.clientHeight
                index = i
                changeColor(index)
                container.style.top = -index * viewHeight + 'px'
            }
        }
        //改变小li颜色
        function changeColor(index) {
            for (var j = 0; j < lis.length; j++) {
                lis[j].className = ''
                c.id=''
            }
            lis[index].className = 'wholeactive'
        }
        
        function change(text){
            var c = document.querySelectorAll(".aboutus div");
            for(var i=0;i<c.length;i++){
                c[i].className=''
            } 
            var b = document.querySelectorAll('.ourproject div');
            for(var i=0;i<b.length;i++){
                b[i].className=''
            } 
            document.getElementById(text).className='action'

        }
    </script>
</body>

</html>
